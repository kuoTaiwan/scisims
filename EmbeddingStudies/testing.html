<!DOCTYPE HTML>
<html>
	<head>
		<h2 style = >Embedding a Study in an iframe</h2>
		<link rel = "stylesheet" type = "text/css" href = "style.css">
		<script src='jquery-3.3.1.min.js'></script>
	</head>

	<body>
		<div id = "frame">
			<iframe id = "iframe" src="https://implicit.harvard.edu/implicit/Launch?study=/user/kratliff/uflrick/manylabs/manylabs1/manylabs1.expt.xml&pID=0"></iframe>
		</div>
		<button onclick="window.location.href='https://osf.io/9xu5b/'">Source</button>
		<button onclick = "requestFullScreen(document.body)" id="fullbutton">FullScreen</button>
		<button onclick = "exitFullScreen()" id="exitbutton">Exit</button>
	</body>

</html>

<script>
	function requestFullScreen(element) {
    // Supports most browsers and their versions.
    var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;

    if (requestMethod) { // Native full screen.
        requestMethod.call(element);
    } else if (typeof window.ActiveXObject !== "undefined") { // Older IE.
        var wscript = new ActiveXObject("WScript.Shell");
        if (wscript !== null) {
            wscript.SendKeys("{F11}");
        }
    }
    document.getElementById("iframe").classList.add("fullscreen");
}

	function exitFullScreen() {
		document.getElementById("iframe").classList.remove("fullscreen");
		if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen();
    } else if (document.mozCancelFullScreen) {
      document.mozCancelFullScreen();
    } else if (document.msExitFullscreen) {
      document.msExitFullscreen();
    }
	}

	document.onkeydown = function(evt) {
    evt = evt || window.event;
    var isEscape = false;
    if ("key" in evt) {
        isEscape = (evt.key == "Escape" || evt.key == "Esc");
    } else {
        isEscape = (evt.keyCode == 27);
    }
    if (isEscape) {
        document.getElementById("iframe").classList.remove("fullscreen");
	}
};
</script>
